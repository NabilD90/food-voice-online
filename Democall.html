<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO Meta Tags -->
    <title>food-voice.de - KI-Telefonist für Pizzerien & Restaurants | 24/7 Bestellannahme</title>
    <meta name="description" content="Automatisieren Sie Telefonbestellungen & Reservierungen mit KI. Ihr digitaler Telefonist arbeitet 24/7, nimmt Bestellungen an und druckt sie aus. Keine verpassten Anrufe mehr!" />
    <meta name="keywords" content="KI Telefonist, Voice Agent Restaurant, Pizzeria Bestellsystem, automatische Bestellannahme, Telefon-KI, Restaurant Automation, digitaler Telefonist" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="food-voice.de" />

	  <!-- Meta Pixel Code -->
	<script>
	!function(f,b,e,v,n,t,s)
	{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	n.queue=[];t=b.createElement(e);t.async=!0;
	t.src=v;s=b.getElementsByTagName(e)[0];
	s.parentNode.insertBefore(t,s)}(window, document,'script',
	'https://connect.facebook.net/en_US/fbevents.js');
	fbq('init', '1137900481805244');
	fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
	src="https://www.facebook.com/tr?id=1137900481805244&ev=PageView&noscript=1"
	/></noscript>
	<!-- End Meta Pixel Code -->
	  
    <!-- Canonical & Icons -->
    <link rel="canonical" href="https://food-voice.de/" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/favicon.png" />
    <meta name="theme-color" content="#FF6B35" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://food-voice.de/" />
    <meta property="og:title" content="food-voice.de - KI-Telefonist für Pizzerien & Restaurants" />
    <meta property="og:description" content="Nie wieder verpasste Bestellungen. Ihr KI-Telefonist arbeitet 24/7 und nimmt automatisch Bestellungen an." />
    <meta property="og:image" content="https://food-voice.de/food-voice-logo.png" />
    <meta property="og:locale" content="de_DE" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="food-voice.de - KI-Telefonist für Restaurants" />
    <meta name="twitter:description" content="Automatische Bestellannahme 24/7 mit KI" />
    <meta name="twitter:image" content="https://food-voice.de/food-voice-logo.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Vimeo Player -->
    <script src="https://player.vimeo.com/api/player.js"></script>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "food-voice.de",
      "description": "KI-basierter Voice Agent für automatische Telefonbestellungen und Reservierungen in Restaurants und Pizzerien",
      "url": "https://food-voice.de",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web-based",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR",
        "description": "Kostenlose Demo verfügbar"
      },
      "provider": {
        "@type": "Organization",
        "name": "food-voice.de",
        "contactPoint": {
          "@type": "ContactPoint",
          "email": "kontakt@food-voice.de",
          "contactType": "Customer Service"
        }
      }
    }
    </script>
    <script type="module" crossorigin src="/assets/index-CcyHCU5W.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DGYf16id.css">
  </head>
  <body>
    <div id="root"></div>
    <script>
      (() => {
        const webhookUrl = "https://n8n.zenowa.de/webhook/a4b8ed25-fca2-41dd-ba4a-82c72b695ed7";
        const supabaseUrl = "https://xxfcqtoobsyzsrysjbje.supabase.co/functions/v1/send-contact-email";
        const supabaseKey =
          "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh4ZmNxdG9vYnN5enNyeXNqYmplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNjM1ODUsImV4cCI6MjA3NjYzOTU4NX0.E0EKBJ3FW2UgN2HhKFsKCspFLj4NI-o4_iXNHlXR568";

        const normalizePhone = (raw) => {
          if (!raw) return "";
          let cleaned = raw.replace(/[^\d+]/g, "");
          if (cleaned.startsWith("+00")) cleaned = "+" + cleaned.slice(3);
          if (cleaned.startsWith("00")) cleaned = "+" + cleaned.slice(2);
          if (cleaned.startsWith("+")) {
            const digits = cleaned.slice(1).replace(/\D/g, "");
            return digits ? "+" + digits : "";
          }
          const digits = cleaned.replace(/\D/g, "");
          if (!digits) return "";
          return digits.startsWith("0") ? "+49" + digits.slice(1) : "+" + digits;
        };

        const attachHandler = () => {
          const form = document.querySelector('form input[name="phone"]')?.closest("form");
          if (!form || form.dataset.voiceAgentAttached) return;
          form.dataset.voiceAgentAttached = "true";

          const status = document.createElement("p");
          status.style.marginTop = "0.5rem";
          status.style.fontSize = "0.9rem";
          form.append(status);

          form.addEventListener(
            "submit",
            async (event) => {
              event.preventDefault();
              event.stopImmediatePropagation();

              const getValue = (name) => form.querySelector(`[name="${name}"]`)?.value.trim() || "";
              const payload = {
                company: getValue("company"),
                name: getValue("name"),
                email: getValue("email"),
                phone: normalizePhone(getValue("phone")),
                message: getValue("message"),
              };

              status.textContent = "";
              status.style.color = "#6B7280";

              try {
                const emailResponse = await fetch(supabaseUrl, {
                  method: "POST",
                  headers: { "Content-Type": "application/json", Authorization: supabaseKey },
                  body: JSON.stringify(payload),
                });
                const emailResult = await emailResponse.json();
                if (!emailResponse.ok || !emailResult.success) throw new Error(emailResult.message || "Fehler beim Senden");

                const webhookResponse = await fetch(webhookUrl, {
                  method: "POST",
                  headers: { "Content-Type": "application/json" },
                  body: JSON.stringify({ phone: payload.phone, name: payload.name }),
                });
                if (!webhookResponse.ok) throw new Error("Fehler beim Auslösen des Voice-Agenten");

                status.textContent = emailResult.message || "Vielen Dank! Wir melden uns schnellstmöglich.";
                status.style.color = "#10B981";
                form.reset();
              } catch (error) {
                status.textContent = error.message || "Es gab ein Problem beim Senden. Bitte erneut versuchen.";
                status.style.color = "#EF4444";
              }
            },
            true
          );
        };

        const observer = new MutationObserver(attachHandler);
        observer.observe(document.documentElement, { childList: true, subtree: true });
        attachHandler();
      })();
    </script>
  </body>
</html>
